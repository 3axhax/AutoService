@import "tailwindcss";

@font-face {
  font-family: "Roboto";
  src: url("./fonts/Roboto.woff2") format("woff2");
  font-weight: 100 900;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Roboto";
  src: url("./fonts/Roboto-Italic.woff2") format("woff2");
  font-weight: 100 900;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: "Sofia Sans";
  src: url("./fonts/SofiaSans_v.woff2") format("woff2");
  font-weight: 100 900;
  font-style: normal;
  font-display: swap;
}

@layer base {
  :root {
    font-family: "Roboto", "Arial Black", sans-serif;

    font-weight: 300;
    line-height: 1.5;
    font-synthesis: none;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-text-size-adjust: 100%;
    --color-text: #1a1a1a;
    --bg-color: var(--color-white);
    --accent: black;
    --canvas: color-mix(in lch, canvas, canvasText 1%);
    --border: color-mix(in lch, canvas, canvasText 10%);
    --text: color-mix(in lch, canvasText, canvas 25%);
    --border-radius: 24;
    --border-width: 3;
    --trail-size: 25;
    --speed: 12s;
    --size: 45px;
    --line: color-mix(in lch, var(--color-text), transparent 97%);

    --secondaryColor: var(--color-green-800);

    --underline-height: 1px;
    --underline-spacing: 0.25em;
    --transition-time: 0.3s;

    --color-orange: oklch(67.89% 0.21 36.29);
    --color-blue-dark: oklch(29.43% 0.086 265.36);
    --color-blue-light: oklch(77.2% 0.135 217.27);
    --color-beige: oklch(92.61% 0.023 87.15);
    --color-purple: oklch(39.8% 0.057 283.51);
  }

  @media (prefers-color-scheme: dark) {
    :root:not(.light) {
      --color-text: #e0e0e0;
      --bg-color: var(--color-gray-950);
    }
  }

  /* Manual override with .dark class */
  :root.dark {
    --color-text: #e0e0e0;
    --bg-color: var(--color-gray-950);
  }

  html {
    @apply w-full h-full bg-white dark:bg-gray-900;
    scrollbar-gutter: stable;
  }

  body {
    font-family: "Roboto", "Arial Black", sans-serif;
    @apply m-0 flex items-stretch justify-center w-full min-w-[320px] min-h-screen bg-white dark:bg-gray-900;
    background:
      linear-gradient(90deg, var(--line) 1px, transparent 1px var(--size)) 50%
        50% / var(--size) var(--size),
      linear-gradient(var(--line) 1px, transparent 1px var(--size)) 50% 50% /
        var(--size) var(--size);
  }

  #root {
    @apply mx-auto text-center w-full;
  }

  .orange {
    color: var(--color-orange);
  }

  .bg-orange {
    background-color: var(--color-orange);
  }

  .blue-dark {
    color: var(--color-blue-dark);
  }

  .bg-blue-dark {
    background-color: var(--color-blue-dark);
  }

  .blue-light {
    color: var(--color-blue-light);
  }

  .bg-blue-light {
    background-color: var(--color-blue-light);
  }

  .beige {
    color: var(--color-beige);
  }

  .bg-beige {
    background-color: var(--color-beige);
  }

  .purple {
    color: var(--color-purple);
  }

  .bg-purple {
    background-color: var(--color-purple);
  }

  @media (prefers-color-scheme: dark) {
    :root:not(.light) {
    }
  }

  /* Manual override with .dark class */
  :root.dark {
  }
}

@layer utilities {
  /* Кастомные классы для точного контроля variable font */
  .font-sofia-variable {
    font-family: "Roboto", sans-serif;
    font-variation-settings:
      "wght" 400,
      "wdth" 100;
  }

  .font-weight-350 {
    font-variation-settings: "wght" 350;
  }

  .font-weight-450 {
    font-variation-settings: "wght" 450;
  }

  .font-width-110 {
    font-variation-settings: "wdth" 110;
  }

  /* Плавные переходы для variable font */
  .font-transition {
    transition: font-variation-settings 0.3s ease;
  }

  .outlined-heading {
    @apply text-blue-950
    [text-shadow:-1px_-1px_0_var(--color-white),1px_-1px_0_var(--color-white),-1px_1px_0_var(--color-white),1px_1px_0_var(--color-white)]
    supports-[-webkit-text-stroke:1px_var(--color-white)]:[-webkit-text-stroke:1px_var(--color-white)]
    supports-[-webkit-text-stroke:1px_var(--color-white)]:[-webkit-text-fill-color:var(text-blue-950)]
    supports-[-webkit-text-stroke:1px_var(--color-white)]:[text-shadow:none]
    dark:text-gray-900
    dark:[text-shadow:-1px_-1px_0_var(--color-white),1px_-1px_0_var(--color-white),-1px_1px_0_var(--color-white),1px_1px_0_var(--color-white)]
    dark:supports-[-webkit-text-stroke:1px_var(--color-white)]:[-webkit-text-stroke:1px_var(--color-white)]
    dark:supports-[-webkit-text-stroke:1px_var(--color-white)]:[-webkit-text-fill-color:var(--color-gray-900)]
    dark:supports-[-webkit-text-stroke:1px_var(--color-white)]:[text-shadow:none];
  }

  .bg-underline {
    @apply bg-gradient-to-r from-current to-current
    bg-no-repeat
    [background-position:left_bottom_var(--underline-spacing)]
    [background-size:0_var(--underline-height)]
    hover:[background-size:100%_var(--underline-height)]
    transition-[background-size] duration-300 ease-out
    pb-[var(--underline-spacing)] -mb-1;
  }
}

@layer components {
  .app {
    @apply flex flex-col items-center;
  }

  .counter {
    @apply flex flex-col items-center gap-4 p-8 border border-gray-200 rounded-xl bg-white/5 backdrop-blur-sm;
  }

  .counter h2 {
    @apply m-0 text-3xl font-bold text-blue-600;
  }

  .counter-controls {
    @apply flex gap-4 flex-wrap justify-center;
  }

  .form-control,
  .input {
    font-family: "Roboto", "Arial Black", sans-serif;
    @apply text-blue-900 dark:text-white/80 w-full px-5 py-3 border border-blue-900 bg-white dark:bg-gray-950 text-base/5 rounded-md shadow-sm hover:shadow-blue-950 focus:outline-none focus:border-blue-900 focus:shadow-gray-400;
  }

  .form-label {
    font-family: "Roboto", "Arial Black", sans-serif;
    @apply absolute top-3 left-4 bg-white text-base/5 rounded-xs text-blue-900 transition-all duration-300 ease-in-out py-0.25 px-1;
  }

  .form-control:focus + .form-label,
  .form-control:not(:placeholder-shown) + .form-label {
    @apply -top-3 text-xs/5;
  }

  .form-control:-webkit-autofill,
  .form-control:-webkit-autofill:hover,
  .form-control:-webkit-autofill:focus,
  .form-control:-webkit-autofill:active {
    -webkit-box-shadow: 0 0 0 30px white inset !important;
    -webkit-text-fill-color: var(--color-green-800) !important;
    transition: background-color 5000s ease-in-out 0s;
  }

  .form-control:-webkit-autofill + .form-label,
  .form-control:-webkit-autofill:hover + .form-label,
  .form-control:-webkit-autofill:focus + .form-label,
  .form-control:-webkit-autofill:active + .form-label {
    @apply -top-3 text-xs/5;
  }

  .page-title {
    font-family: "Roboto", "Arial Black", sans-serif;
    @apply text-4xl text-gray-900 dark:text-white mb-4;
  }

  .btn {
    @apply relative flex justify-center items-center overflow-hidden text-white text-base/5 transition-all duration-400 font-normal rounded-md px-4 py-2 min-h-10 lg:min-h-9 cursor-pointer
    bg-gradient-to-r
    from-green-800
    via-green-500
    to-green-800
    bg-[length:300%_100%]
    hover:bg-right-top
    disabled:cursor-not-allowed
    disabled:bg-blue-300
    shadow-md shadow-green-800/75
    hover:shadow-gray-500 hover:dark:shadow-white/20;
  }

  .btn-orange {
    background-image: linear-gradient(
      to right,
      var(--color-orange-400),
      var(--color-orange),
      var(--color-orange),
      var(--color-orange-300)
    );
    @apply shadow-orange-700/75;
  }

  .btn-blue-light {
    background-image: linear-gradient(
      to right,
      var(--color-blue-light),
      var(--color-blue-500),
      var(--color-blue-light),
      var(--color-blue-500)
    );
    @apply shadow-blue-500/75;
  }

  .btn-blue-dark {
    background-image: linear-gradient(
      to right,
      var(--color-blue-dark),
      var(--color-blue-800),
      var(--color-blue-dark),
      var(--color-blue-800)
    );
    @apply shadow-blue-900/75;
  }

  .btn-purple {
    background-image: linear-gradient(
      to right,
      var(--color-purple),
      var(--color-indigo-700),
      var(--color-purple),
      var(--color-indigo-700)
    );
    @apply shadow-indigo-900/75;
  }

  .btn-beige {
    background-image: linear-gradient(
      to right,
      var(--color-stone-100),
      var(--color-stone-50),
      var(--color-stone-100),
      var(--color-stone-50)
    );
    @apply shadow-gray-700/75;
  }

  @media (prefers-color-scheme: dark) {
    :root:not(.light) {
      .btn-beige {
        background-image: linear-gradient(
          to right,
          var(--color-gray-900),
          var(--color-gray-950),
          var(--color-gray-900),
          var(--color-gray-950)
        );
        @apply shadow-gray-950/15;
      }
    }
  }

  /* Manual override with .dark class */
  :root.dark {
    .btn-beige {
      background-image: linear-gradient(
        to right,
        var(--color-gray-900),
        var(--color-gray-950),
        var(--color-gray-900),
        var(--color-gray-950)
      );
      @apply shadow-gray-950/15;
    }
  }

  .btn-green {
    background-image: linear-gradient(
      to right,
      var(--color-green-950),
      var(--color-green-700),
      var(--color-green-950),
      var(--color-green-700)
    );
    @apply shadow-green-900/75;
  }

  .btn-white {
    @apply relative overflow-hidden text-blue-900 text-base/5 transition-all duration-400 font-normal rounded-md px-4 py-2 cursor-pointer
    bg-white
    shadow-md
    hover:shadow-gray-500
    hover:text-blue-950
    disabled:cursor-not-allowed
    disabled:bg-gray-400
    outline outline-1 outline-offset-[-1px] outline-blue-900;
  }

  .b-border {
    position: absolute;
    inset: 0;
    clip-path: inset(0 0 0 0 round calc(var(--border-radius) * 1px));
    border-radius: calc(var(--border-radius) * 1px);
    background: var(--border);
    z-index: -1;
    border: 0;
    container-type: inline-size;
    transition:
      clip-path var(1s),
      -webkit-clip-path var(1s);
  }

  .line-between + .line-between {
    @apply border-t border-gray-200 pt-1;
  }

  .trail {
    width: calc(var(--trail-size) * 1cqmin);
    aspect-ratio: 2 / 1;
    position: absolute;
    background: radial-gradient(
      100% 100% at right,
      var(--accent, red),
      transparent 50%
    );
    offset-path: border-box;
    offset-anchor: 100% 50%;
    animation: journey var(--speed, 6s) infinite linear;
  }

  @keyframes journey {
    to {
      offset-distance: 100%;
    }
  }

  .b-border__content {
    background:
      linear-gradient(var(--canvas), var(--canvas)) padding-box,
      transparent;
    border: calc(var(--border-width) * 1px) solid transparent;
    border-radius: calc(var(--border-radius) * 1px);
    padding: clamp(1rem, 3vmin + 1rem, 6rem);
  }

  .radio-input {
    @apply relative mr-1 cursor-pointer;
  }

  .radio-input:before {
    @apply w-3 h-3 absolute top-0.5 left-0.5 rounded-full z-1 bg-blue-900 content-[''] transform scale-0   transition-transform duration-400 ease-[cubic-bezier(.45,1.8,.5,.75)];
  }

  .radio-label {
    @apply relative text-gray-700 dark:text-white;
  }
  .radio-input:checked:before {
    @apply transform scale-100;
  }
  .radio-input:after {
    @apply w-5 h-5 absolute -top-0.5 -left-0.5 rounded-full content-[''] bg-white border-2 border-blue-900;
  }

  .slider li {
    @apply py-4;
  }

  .react-multiple-carousel__arrow--right {
    right: 20px !important;
    z-index: 9 !important;
  }

  .react-multiple-carousel__arrow--left {
    left: 20px !important;
    z-index: 9 !important;
  }

  .custom-select__menu-portal {
    z-index: 10 !important;
  }

  .colored {
    @apply even:not-empty:bg-stone-200/25 dark:even:not-empty:bg-gray-950/25 border-t-1 border-stone-200 dark:border-gray-950 py-5 lg:py-10 last:pb-10;
  }

  .scrollbar-stable {
    scrollbar-gutter: stable;
  }
}

.font-sans {
  font-family: "Sofia Sans", sans-serif;
}
